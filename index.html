<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Video + Imagen en Loop</title>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <style>
    html, body { margin: 0; padding: 0; height: 100%; background: black; overflow: hidden; }
    video, img {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
      top: 0;
      left: 0;
    }
    #touchBlocker {
      position: fixed;
      width: 100vw;
      height: 100vh;
      top: 0;
      left: 0;
      z-index: 9999;
      pointer-events: all;
    }
  </style>
</head>
<body>

  <video id="videoPlayer" autoplay playsinline style="display: none;"></video>
  <img id="imagePlayer" style="display: none;" />
  <div id="touchBlocker"></div>

  <script>
    const videos = [
      { type: "video", url: "https://vz-f65e6dd2-d7c.b-cdn.net/8aa7e192-6a99-43ca-a2cd-b8b03134968e/playlist.m3u8" },
      { type: "image", url: "./Melbourne-banners-web-curvas.jpg", duration: 10000 }, // 10 segundos
      { type: "video", url: "https://vz-f65e6dd2-d7c.b-cdn.net/99f13b5c-fcb4-4f8f-b076-9c8d1fb2115d/playlist.m3u8" },
      { type: "image", url: "./Melbourne-banners-web-curvass.jpg", duration: 8000 }  // 8 segundos,
      { type: "video", url: "https://vz-f65e6dd2-d7c.b-cdn.net/d72f49e4-f5be-40e0-81f0-53eec071f704/playlist.m3u8" },
      { type: "image", url: "./Melbourne-banners-web-curvass.jpg", duration: 8000 }  // 8 segundos,
    ];

    let current = 0;
    const video = document.getElementById('videoPlayer');
    const image = document.getElementById('imagePlayer');

    function playNext() {
      const item = videos[current];

      // Reproducir imagen
      if (item.type === "image") {
        video.style.display = "none";
        image.style.display = "block";
        image.src = item.url;

        setTimeout(() => {
          current = (current + 1) % videos.length;
          playNext();
        }, item.duration);
      }

      // Reproducir video
      else if (item.type === "video") {
        image.style.display = "none";
        video.style.display = "block";

        if (Hls.isSupported()) {
          const hls = new Hls();
          hls.loadSource(item.url);
          hls.attachMedia(video);
          hls.on(Hls.Events.MANIFEST_PARSED, () => video.play());
        } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
          video.src = item.url;
          video.play();
        }

        video.onended = () => {
          current = (current + 1) % videos.length;
          playNext();
        };
      }
    }

    // Comenzar reproducci√≥n en loop
    window.onload = playNext;
  </script>
</body>
</html>
